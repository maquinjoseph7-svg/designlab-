<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DesignLab — Aprende Diseño Gráfico (v2)</title>
  <meta name="description" content="DesignLab v2: demo mejorada para aprender diseño gráfico. Módulos, lecciones, progreso y galería." />
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <style>
    /* Modern UI: compact, responsive, mobile-first */
    :root{
      --bg:#0b1220; --card:#0f1724; --accent:#7c5cff; --accent-2:#00c2ff;
      --muted:#9aa3b2; --glass: rgba(255,255,255,0.03);
      --radius:14px;
      --maxw:980px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono", monospace;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;color:#e6edf3;background: linear-gradient(180deg,#071022 0%, #081226 100%);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}
    a{color:inherit}
    .wrap{max-width:var(--maxw);margin:20px auto;padding:16px}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:18px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:52px;height:52px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:800;color:white;box-shadow:0 8px 30px rgba(124,92,255,0.14);font-size:18px}
    h1{font-size:18px;margin:0}
    nav{display:flex;gap:8px;align-items:center}
    .btn{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 12px;border-radius:12px;color:#e9f0ff;cursor:pointer;font-weight:600}
    .btn.ghost{background:var(--glass)}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none;box-shadow:0 12px 30px rgba(7,10,30,0.6);color:white}

    /* layout */
    .main-grid{display:grid;grid-template-columns:1fr 320px;gap:18px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:16px;border-radius:var(--radius);border:1px solid rgba(255,255,255,0.03)}

    /* hero */
    .hero{display:flex;flex-direction:column;gap:10px;padding:18px;border-radius:12px;background:linear-gradient(90deg, rgba(124,92,255,0.12), rgba(0,194,255,0.06));backdrop-filter: blur(6px);border:1px solid rgba(255,255,255,0.03)}
    .hero h2{margin:0;font-size:20px}
    .hero p{margin:0;color:var(--muted)}

    .search-row{display:flex;gap:8px;margin-top:12px}
    .search-row input{flex:1;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}

    /* courses */
    .courses-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:12px}
    .course{padding:12px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.014), transparent);border:1px solid rgba(255,255,255,0.02);transition:transform .18s ease, box-shadow .18s ease;cursor:pointer}
    .course:hover{transform:translateY(-6px);box-shadow:0 14px 40px rgba(2,6,23,0.6)}
    .course h3{margin:0 0 6px 0;font-size:16px}
    .course .desc{color:var(--muted);font-size:13px;margin-bottom:8px}

    /* course detail modal */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);padding:20px}
    .modal.open{display:flex}
    .modal .panel{width:880px;max-width:96%;background:linear-gradient(180deg,#071026,#07182b);padding:18px;border-radius:16px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 30px 80px rgba(2,6,23,0.7)}

    /* modules */
    .module{padding:10px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.02);display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    .module small{color:var(--muted)}

    /* sidebar */
    aside .avatar{width:64px;height:64px;border-radius:12px;background:linear-gradient(180deg,#fff1 0,#fff0);display:flex;align-items:center;justify-content:center;font-weight:700}
    .progress-bar{height:12px;background:linear-gradient(90deg,#111522,#0b0f14);border-radius:10px;overflow:hidden;margin-top:8px}
    .progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-2));width:0%}

    /* gallery */
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:10px}
    .thumb{width:100%;aspect-ratio:1.3/1;object-fit:cover;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}

    /* footer */
    footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}

    /* mobile */
    @media (max-width:880px){
      .main-grid{grid-template-columns:1fr;gap:12px}
      .courses-grid{grid-template-columns:1fr}
      .gallery{grid-template-columns:repeat(2,1fr)}
      nav{display:none}
      header{gap:8px}
      .mobile-nav{display:flex;gap:8px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">DL</div>
        <div>
          <h1>DesignLab v2</h1>
          <div style="font-size:13px;color:var(--muted)">Aprende Diseño Gráfico — Prototipo mejorado</div>
        </div>
      </div>
      <nav>
        <button class="btn ghost" onclick="goTo('courses')">Cursos</button>
        <button class="btn ghost" onclick="goTo('gallery')">Galería</button>
        <button class="btn ghost" onclick="goTo('contact')">Contacto</button>
        <button class="btn primary" onclick="openProfile()">Mi Perfil</button>
      </nav>
      <div class="mobile-nav" style="display:none">
        <button class="btn" onclick="openMenu()">☰</button>
      </div>
    </header>

    <main class="main-grid">
      <section>
        <div class="card hero" id="home">
          <h2>Domina el diseño gráfico con proyectos reales</h2>
          <p>Lecciones por módulo, ejercicios descargables y proyectos finales. Interfaz optimizada para móviles.</p>
          <div class="search-row">
            <input id="searchInput" placeholder="Buscar curso, módulo o tema..." oninput="filterCourses()">
            <button class="btn primary" onclick="startIntro()">Comenzar</button>
          </div>

          <div style="margin-top:14px">
            <h3 style="margin:0 0 8px 0">Cursos destacados</h3>
            <div class="courses-grid" id="coursesList"></div>
          </div>
        </div>

        <div class="card" id="courses" style="margin-top:14px">
          <h3>Todos los cursos</h3>
          <div class="courses-grid" id="allCourses"></div>
        </div>

        <div class="card" id="gallery" style="margin-top:14px">
          <h3>Galería de estudiantes</h3>
          <div class="gallery" id="galleryGrid"></div>
          <div style="margin-top:8px;display:flex;gap:8px">
            <input type="file" id="fileUpload" accept="image/*" style="display:none" onchange="handleUpload(event)">
            <button class="btn" onclick="triggerUpload()">Subir imagen</button>
            <button class="btn" onclick="clearGallery()">Limpiar</button>
          </div>
        </div>

        <div class="card" id="contact" style="margin-top:14px">
          <h3>Contacto</h3>
          <p style="color:var(--muted)">¿Tienes dudas? Escríbeme (demo):</p>
          <form onsubmit="sendContact(event)">
            <input id="cname" placeholder="Nombre" style="width:100%;padding:10px;margin-bottom:8px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit">
            <input id="cemail" placeholder="Email" style="width:100%;padding:10px;margin-bottom:8px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit">
            <textarea id="cmsg" placeholder="Mensaje" style="width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:inherit"></textarea>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button class="btn primary" type="submit">Enviar</button>
              <button class="btn" type="button" onclick="clearContact()">Borrar</button>
            </div>
          </form>
        </div>
      </section>

      <aside>
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="display:flex;gap:12px;align-items:center">
              <div class="avatar" id="avatar">F</div>
              <div>
                <div style="font-weight:700" id="userName">Felipe</div>
                <div style="font-size:13px;color:var(--muted)">Diseñador en formación</div>
              </div>
            </div>
            <div style="text-align:right">
              <div style="font-size:12px;color:var(--muted)">Nivel</div>
              <div style="font-weight:700">Intermedio</div>
            </div>
          </div>

          <div style="margin-top:12px">
            <div style="font-size:13px;color:var(--muted)">Progreso total</div>
            <div class="progress-bar"><div id="progressFill" class="progress-fill"></div></div>
            <div style="font-size:13px;margin-top:8px" id="progressText">0% completado</div>
          </div>

          <div style="margin-top:14px">
            <strong>Curso recomendado</strong>
            <div style="color:var(--muted);font-size:13px;margin-top:6px">Branding para emprendedores — proyecto final incluido</div>
            <button class="btn primary" style="width:100%;margin-top:10px" onclick="openCourse('branding')">Ir al curso</button>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <h3>Certificados</h3>
          <p style="color:var(--muted)">Descarga certificados digitales para los cursos completados.</p>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button class="btn" onclick="downloadAllCertificates()">Descargar ZIP</button>
            <button class="btn" onclick="previewCertificate()">Vista previa</button>
          </div>
        </div>
      </aside>
    </main>

    <footer>DesignLab v2 • Demo educativa — Hecho con ❤️</footer>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal"><div class="panel" id="modalPanel"></div></div>

  <script>
    // --- Data: cursos con módulos y lecciones (más detallado)
    const courses = [
      {id:'intro', title:'Introducción al Diseño', duration:'3h', level:'Básico', desc:'Principios: color, forma, composición. Proyecto final: cartel publicitario.',
       modules:[
         {id:'m1', title:'Fundamentos del color', lessons:[{t:'Teoría del color',d:'Conceptos y paletas'},{t:'Ejercicio práctico',d:'Crear una paleta de 4 colores'}]},
         {id:'m2', title:'Composición y jerarquía', lessons:[{t:'Reglas de composición',d:'Regla de tercios, balance'},{t:'Práctica',d:'Componer un afiche'}]},
       ]},
      {id:'typography', title:'Fundamentos de Tipografía', duration:'2.5h', level:'Intermedio', desc:'Anatomía de la letra, familias tipográficas y uso práctico. Proyecto: poster tipográfico.',
       modules:[
         {id:'t1', title:'Anatomía y clasificación', lessons:[{t:'Serif vs Sans',d:'Cuándo usar cada una'},{t:'Kerning y tracking',d:'Ajustes de espaciado'}]},
         {id:'t2', title:'Jerarquía tipográfica', lessons:[{t:'Escalas y tamaños',d:'Crear jerarquía visible'},{t:'Práctica',d:'Diseñar un titular impactante'}]}
       ]},
      {id:'photo', title:'Edición en Photoshop (básico)', duration:'4h', level:'Básico', desc:'Recorte, ajustes de color y retoque sencillo. Proyecto: retoque de imagen para redes.',
       modules:[
         {id:'p1', title:'Recorte y máscaras', lessons:[{t:'Herramientas de selección',d:'Quick Selection & Pen Tool'},{t:'Máscaras no destructivas',d:'Trabajar con capas'}]},
         {id:'p2', title:'Color y retoque', lessons:[{t:'Curvas y niveles',d:'Ajustes de tono'},{t:'Retoque básico',d:'Limpieza de piel y objetos'}]}
       ]},
      {id:'vector', title:'Illustrator & Vectores', duration:'3.5h', level:'Intermedio', desc:'Iconos, trazados y logotipos vectoriales. Proyecto: kit de iconos.',
       modules:[
         {id:'v1', title:'Trazados y formas', lessons:[{t:'Pen tool avanzado',d:'Curvas y nodos'},{t:'Construcción con formas',d:'Boolean operations'}]},
         {id:'v2', title:'Logotipos y export', lessons:[{t:'Construcción de logo',d:'Sistema de identidad'},{t:'Exportación',d:'SVG y web'}]}
       ]},
      {id:'branding', title:'Identidad visual para emprendedores', duration:'5h', level:'Avanzado', desc:'Construye una identidad visual completa. Proyecto final: manual de marca.',
       modules:[
         {id:'b1', title:'Estrategia de marca', lessons:[{t:'Brief y objetivos',d:'Definir tono'},{t:'Arquitectura de marca',d:'Sub-marcas'}]},
         {id:'b2', title:'Aplicaciones', lessons:[{t:'Papelería y digital',d:'Mockups'},{t:'Guía de estilo',d:'Documentar decisiones'}]}
       ]},
    ];

    // --- Render functions
    function renderCourses(){
      const featured = document.getElementById('coursesList');
      const all = document.getElementById('allCourses');
      featured.innerHTML = ''; all.innerHTML = '';
      courses.slice(0,4).forEach(c => featured.appendChild(courseCard(c)));
      courses.forEach(c => all.appendChild(courseCard(c)));
    }

    function courseCard(c){
      const el = document.createElement('div'); el.className='course';
      el.innerHTML = `<h3>${c.title}</h3><div class="desc">${c.desc}</div><div style="display:flex;justify-content:space-between;align-items:center"><small class="meta">${c.level} • ${c.duration}</small><div><button class="btn" onclick="openCourse('${c.id}')">Ver</button><button class="btn primary" onclick="enroll('${c.id}')">Inscribirme</button></div></div>`;
      return el;
    }

    // Filter
    function filterCourses(){
      const q = document.getElementById('searchInput').value.toLowerCase();
      const filtered = courses.filter(c => (c.title + c.desc + c.level).toLowerCase().includes(q));
      const all = document.getElementById('allCourses'); all.innerHTML=''; filtered.forEach(c=> all.appendChild(courseCard(c)));
    }

    // Modal (course detail)
    const modal = document.getElementById('modal');
    const modalPanel = document.getElementById('modalPanel');
    function openCourse(id){
      const c = courses.find(x=>x.id===id);
      if(!c) return;
      modalPanel.innerHTML = `<div style="display:flex;justify-content:space-between;align-items:center"><div><h2 style="margin:0">${c.title}</h2><div class="meta" style="color:var(--muted)">${c.level} • ${c.duration}</div></div><div><button class="btn" onclick="closeModal()">Cerrar</button></div></div><hr style="border:none;border-top:1px solid rgba(255,255,255,0.03);margin:12px 0"><div style="display:flex;gap:12px"><div style="flex:1"><p style="color:var(--muted)">${c.desc}</p><h4>Módulos</h4><div id="modulesList"></div></div><div style="width:300px"><strong>Proyecto final</strong><p style="color:var(--muted)">Aplica lo aprendido en un proyecto real y compártelo en la galería.</p><div style="margin-top:14px"><button class="btn primary" onclick="startProject('${c.id}')">Iniciar proyecto</button></div></div></div>`;
      const ml = document.getElementById('modulesList');
      c.modules.forEach(m=>{
        const div = document.createElement('div'); div.className='module';
        div.innerHTML = `<div><strong>${m.title}</strong><div><small class="meta">${m.lessons.length} lecciones</small></div></div><div><button class="btn" onclick="openModule('${c.id}','${m.id}')">Abrir</button></div>`;
        ml.appendChild(div);
      });
      modal.classList.add('open');
    }
    function closeModal(){ modal.classList.remove('open'); modalPanel.innerHTML=''; }

    // Module viewer
    function openModule(courseId,moduleId){
      const course = courses.find(c=>c.id===courseId);
      const mod = course.modules.find(m=>m.id===moduleId);
      modalPanel.innerHTML = `<div style="display:flex;justify-content:space-between;align-items:center"><h3 style="margin:0">${mod.title}</h3><div><button class="btn" onclick="closeModal()">Cerrar</button></div></div><div style="margin-top:12px"><div id="lessonsList"></div></div>`;
      const lessonsList = document.getElementById('lessonsList');
      mod.lessons.forEach((l, idx)=>{
        const d = document.createElement('div'); d.className='module'; d.innerHTML = `<div><strong>${l.t}</strong><div><small style="color:var(--muted)">${l.d}</small></div></div><div><button class="btn primary" onclick="completeLesson('${courseId}','${moduleId}',${idx})">Completar</button></div>`;
        lessonsList.appendChild(d);
      });
    }

    // Enrollment / progress using localStorage
    function enroll(id){
      const enrolled = JSON.parse(localStorage.getItem('dl2_enrolled')||'[]');
      if(!enrolled.includes(id)){ enrolled.push(id); localStorage.setItem('dl2_enrolled',JSON.stringify(enrolled)); alert('Inscrito en ' + id); } else alert('Ya estás inscrito.');
      updateProgressUI();
    }
    function completeLesson(courseId,moduleId,lessonIdx){
      const key = 'dl2_done';
      const done = JSON.parse(localStorage.getItem(key)||'{}');
      done[courseId] = done[courseId]||{};
      done[courseId][moduleId] = done[courseId][moduleId]||[];
      if(!done[courseId][moduleId].includes(lessonIdx)) done[courseId][moduleId].push(lessonIdx);
      localStorage.setItem(key, JSON.stringify(done));
      alert('Lección completada ✅');
      updateProgressUI();
    }
    function updateProgressUI(){
      const done = JSON.parse(localStorage.getItem('dl2_done')||'{}');
      let completed = 0; let total = 0;
      courses.forEach(c=> { c.modules.forEach(m=> { total += m.lessons.length; if(done[c.id] && done[c.id][m.id]) completed += done[c.id][m.id].length; }) });
      const percent = total===0?0:Math.round((completed/total)*100);
      document.getElementById('progressFill').style.width = percent+'%';
      document.getElementById('progressText').textContent = percent+'% completado';
    }

    // Projects & gallery (store base64 in localStorage for demo)
    function triggerUpload(){ document.getElementById('fileUpload').click(); }
    function handleUpload(e){
      const file = e.target.files[0]; if(!file) return;
      const reader = new FileReader();
      reader.onload = function(ev){
        const arr = JSON.parse(localStorage.getItem('dl2_gallery')||'[]');
        arr.unshift({src:ev.target.result, date: new Date().toISOString()});
        localStorage.setItem('dl2_gallery', JSON.stringify(arr)); renderGallery();
        alert('Imagen subida a la galería (local) ✅');
      }
      reader.readAsDataURL(file);
    }
    function renderGallery(){
      const g = document.getElementById('galleryGrid'); g.innerHTML='';
      const arr = JSON.parse(localStorage.getItem('dl2_gallery')||'[]');
      arr.slice(0,12).forEach(item=>{ const img = document.createElement('img'); img.src=item.src; img.className='thumb'; g.appendChild(img); });
    }
    function clearGallery(){ localStorage.removeItem('dl2_gallery'); renderGallery(); }

    // Certificates (basic text files zipped client-side)
    function downloadAllCertificates(){
      const done = JSON.parse(localStorage.getItem('dl2_done')||'{}');
      const completedCourses = Object.keys(done);
      if(completedCourses.length===0){ alert('No tienes cursos completados.'); return; }
      completedCourses.forEach(cid=>{
        const txt = `Certificado - DesignLab v2\nCurso: ${cid}\nAlumno: Felipe\nFecha: ${new Date().toLocaleDateString()}\n\n(Muestra demo)`;
        const blob = new Blob([txt], {type:'text/plain'});
        const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = `certificado-${cid}.txt`; document.body.appendChild(a); a.click(); a.remove();
      });
      alert('Descargas iniciadas para certificados (uno por curso).');
    }
    function previewCertificate(){ alert('Vista previa: Certificado de ejemplo para DesignLab v2 (demo).'); }

    // Projects starter
    function startProject(courseId){ closeModal(); alert('Proyecto iniciado para ' + courseId + '. Sube tu trabajo en la galería cuando lo completes.'); }

    // Contact form (demo)
    function sendContact(e){ e.preventDefault(); alert('Mensaje enviado (demo). Gracias!'); clearContact(); }
    function clearContact(){ document.getElementById('cname').value=''; document.getElementById('cemail').value=''; document.getElementById('cmsg').value=''; }

    // Small helpers
    function goTo(id){ document.getElementById(id).scrollIntoView({behavior:'smooth'}) }
    function openProfile(){ modal.classList.add('open'); modalPanel.innerHTML = `<div style="display:flex;justify-content:space-between;align-items:center"><h3 style="margin:0">Mi perfil — Felipe</h3><div><button class="btn" onclick="closeModal()">Cerrar</button></div></div><div style="margin-top:12px;color:var(--muted)"><p>Progreso guardado en tu navegador.</p><p>Podrás descargar certificados tras completar módulos.</p></div>`; }
    function startIntro(){ alert('Bienvenido a DesignLab v2 — explora los cursos, completa lecciones y sube tus proyectos a la galería.'); }
    function openMenu(){ alert('Menú móvil (demo).') }

    // Initialize
    renderCourses(); renderGallery(); updateProgressUI();
  </script>
</body>
</html>
